# Pulse - AI æ™ºèƒ½å‡è‚¥åŠ©æ‰‹

> è§„å¾‹è·³åŠ¨ï¼Œç‡ƒçƒ§ä½ çš„çƒ­é‡

Pulse æ˜¯ä¸€æ¬¾åŸºäº AI çš„æ™ºèƒ½å‡è‚¥åŠ©æ‰‹åç«¯æœåŠ¡ï¼Œé€šè¿‡ AI å¯¹è¯å¸®åŠ©ç”¨æˆ·ç®¡ç†ä½“é‡ã€è®°å½•é¥®é£Ÿã€åˆ¶å®šå¥èº«è®¡åˆ’ï¼Œå®ç°ç§‘å­¦å¥åº·çš„å‡è‚¥ç›®æ ‡ã€‚

## é¡¹ç›®çŠ¶æ€

ğŸš§ **å¼€å‘ä¸­** - ç›®å‰å·²å®Œæˆå‰ç«¯ API æœåŠ¡ï¼Œåå°ç®¡ç†æœåŠ¡æ­£åœ¨å¼€å‘ä¸­ã€‚

### å·²å®ŒæˆåŠŸèƒ½

- âœ… ç”¨æˆ·è®¤è¯ä¸æˆæƒ (JWT)
- âœ… AI æ™ºèƒ½å¯¹è¯ (WebSocket)
- âœ… ä½“é‡è®°å½•ä¸è¿½è¸ª
- âœ… é¥®é£Ÿè®°å½•ä¸çƒ­é‡åˆ†æ
- âœ… æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ
- âœ… ä»Šæ—¥å¥åº·å»ºè®®
- âœ… AI å¥èº«æ•™ç»ƒ

### å¾…å¼€å‘åŠŸèƒ½

- â³ åå°ç®¡ç†ç³»ç»Ÿ
- â³ è¿åŠ¨è®°å½•æ¨¡å—
- â³ æ•°æ®ç»Ÿè®¡æŠ¥è¡¨
- â³ ç”¨æˆ·ç¤¾åŒºåŠŸèƒ½
- â³ æ¨é€é€šçŸ¥æœåŠ¡

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯å±‚                              â”‚
â”‚               (iOS / Android / Web)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  pulse-app  â”‚  â”‚pulse-motion â”‚  â”‚pulse-managerâ”‚         â”‚
â”‚  â”‚  (ç”¨æˆ·ç«¯)    â”‚  â”‚ (è¿åŠ¨æœåŠ¡)   â”‚  â”‚ (ç®¡ç†ç«¯)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      åŸºç¡€æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ common â”‚ â”‚  auth  â”‚ â”‚ cache  â”‚ â”‚  user  â”‚ â”‚  web   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚       â”‚    MySQL    â”‚          â”‚    Redis    â”‚             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| æ¡†æ¶ | Spring Boot 2.7.4 |
| å®‰å…¨ | Spring Security + JWT |
| æ•°æ®åº“ | MySQL 8.0 + MyBatis |
| ç¼“å­˜ | Redis / Guava |
| AI | chaincraft-ai-client |
| å®æ—¶é€šä¿¡ | WebSocket |
| å·¥å…·åº“ | Hutoolã€Guavaã€OkHttp |

## æ¨¡å—è¯´æ˜

| æ¨¡å— | è¯´æ˜ |
|------|------|
| `pulse-app` | ç”¨æˆ·ç«¯åº”ç”¨æœåŠ¡ï¼Œæä¾›ç™»å½•æ³¨å†Œç­‰æ¥å£ |
| `pulse-motion` | è¿åŠ¨æœåŠ¡ï¼ŒåŒ…å« AI å¯¹è¯ã€é¥®é£Ÿç®¡ç†ã€æ ‡ç­¾ç³»ç»Ÿã€é¦–é¡µæ¨è |
| `pulse-manager` | åå°ç®¡ç†æœåŠ¡ (å¼€å‘ä¸­) |
| `pulse-user` | ç”¨æˆ·æœåŠ¡ï¼Œå¤„ç†ç”¨æˆ·ã€æƒé™ã€è·¯ç”±ç®¡ç† |
| `pulse-auth` | è®¤è¯æˆæƒæ¨¡å—ï¼ŒJWT ä»¤ç‰Œç”Ÿæˆä¸æ ¡éªŒ |
| `pulse-cache` | ç¼“å­˜æ¨¡å—ï¼Œæ”¯æŒ Redis å’Œ Guava åŒæ¨¡å¼ |
| `pulse-common` | å…¬å…±æ¨¡å—ï¼Œé€šç”¨å®ä½“ã€å¸¸é‡ã€å·¥å…·ç±» |
| `pulse-web` | Web æ¨¡å—ï¼Œå…¨å±€å¼‚å¸¸å¤„ç†ã€å“åº”å·¥å…· |

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– AI æ™ºèƒ½å¯¹è¯
é€šè¿‡ WebSocket å®ç°å®æ—¶ AI å¯¹è¯ï¼Œæ”¯æŒå¤šç§ä¸šåŠ¡åœºæ™¯ï¼š
- **å¥èº«æ•™ç»ƒ**: åˆ¶å®šä¸ªæ€§åŒ–å¥èº«è®¡åˆ’å’Œé¥®é£Ÿå»ºè®®
- **ä½“é‡è®°å½•**: æ™ºèƒ½è§£æç”¨æˆ·è¾“å…¥ï¼Œè‡ªåŠ¨è®°å½•ä½“é‡å˜åŒ–
- **é¥®é£Ÿåˆ†æ**: åˆ†æé¤é¥®çƒ­é‡ï¼Œä¼°ç®—è¥å…»æˆåˆ†
- **ä»Šæ—¥å»ºè®®**: ç”Ÿæˆæ¯æ—¥å¥åº·æé†’

### âš–ï¸ ä½“é‡è¿½è¸ª
- æ”¯æŒå…¬æ–¤/æ–¤å¤šå•ä½è¾“å…¥
- è‡ªåŠ¨æ—¥æœŸè§£æ
- å†å²è¶‹åŠ¿åˆ†æ

### ğŸ½ï¸ é¥®é£Ÿç®¡ç†
- é¤é£Ÿè®°å½• (æ—©é¤/åˆé¤/æ™šé¤/åŠ é¤)
- AI çƒ­é‡ä¼°ç®—
- è¥å…»æˆåˆ†åˆ†æ (è›‹ç™½è´¨/ç¢³æ°´/è„‚è‚ª)
- é¥®æ°´è®°å½•

### ğŸ·ï¸ æ ‡ç­¾ç³»ç»Ÿ
- è‡ªå®šä¹‰æ ‡ç­¾åˆ†ç±»
- ç”¨æˆ·æ ‡ç­¾ç»‘å®š
- æ ‡ç­¾å†å²è®°å½•

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 1.8+
- Maven 3.6+
- MySQL 8.0+
- Redis 5.0+

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd pulse
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```sql
CREATE DATABASE pulse DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE pulse;
SOURCE scripts/sql/pulse.sql;
```

### 3. é…ç½®åº”ç”¨

ä¿®æ”¹ `pulse-app/src/main/resources/application.yml`:

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/pulse?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT%2B8
    username: your_username
    password: your_password
  redis:
    host: localhost
    port: 6379
```

### 4. ç¼–è¯‘è¿è¡Œ

```bash
# ç¼–è¯‘é¡¹ç›®
mvn clean package -DskipTests

# å¯åŠ¨åº”ç”¨æœåŠ¡
cd pulse-app
mvn spring-boot:run
```

æœåŠ¡å¯åŠ¨åè®¿é—®: `http://localhost:8080`

## API æ¥å£

### è®¤è¯æ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/register` | ç”¨æˆ·æ³¨å†Œ |

### é¥®é£Ÿæ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/diet/timeline` | è·å–é¥®é£Ÿæ—¶é—´çº¿ |

### æ ‡ç­¾æ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/tag/list` | è·å–æ ‡ç­¾åˆ—è¡¨ |

### é¦–é¡µæ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/home/summary` | è·å–é¦–é¡µæ‘˜è¦ |

### WebSocket
| è·¯å¾„ | è¯´æ˜ |
|------|------|
| `/ws/chat` | AI å¯¹è¯è¿æ¥ |

## é¡¹ç›®ç»“æ„

```
pulse/
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/        # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ deployment/          # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ development/         # å¼€å‘æŒ‡å—
â”œâ”€â”€ scripts/                 # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ ci-cd/              # CI/CD é…ç½®
â”‚   â”œâ”€â”€ docker/             # Docker é…ç½®
â”‚   â”œâ”€â”€ k8s/                # Kubernetes é…ç½®
â”‚   â””â”€â”€ sql/                # æ•°æ®åº“è„šæœ¬
â”œâ”€â”€ pulse-app/              # ç”¨æˆ·ç«¯åº”ç”¨
â”œâ”€â”€ pulse-auth/             # è®¤è¯æˆæƒæ¨¡å—
â”œâ”€â”€ pulse-cache/            # ç¼“å­˜æ¨¡å—
â”œâ”€â”€ pulse-common/           # å…¬å…±æ¨¡å—
â”œâ”€â”€ pulse-manager/          # ç®¡ç†ç«¯åº”ç”¨
â”œâ”€â”€ pulse-motion/           # è¿åŠ¨æœåŠ¡æ¨¡å—
â”œâ”€â”€ pulse-user/             # ç”¨æˆ·æœåŠ¡æ¨¡å—
â”œâ”€â”€ pulse-web/              # Web åŸºç¡€æ¨¡å—
â””â”€â”€ pom.xml                 # Maven çˆ¶ POM
```

## éƒ¨ç½²

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t pulse-app -f scripts/docker/Dockerfile .

# ä½¿ç”¨ docker-compose å¯åŠ¨
docker-compose -f scripts/docker/docker-compose.yml up -d
```

### Kubernetes éƒ¨ç½²

```bash
kubectl apply -f scripts/k8s/
```

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [éƒ¨ç½²æ–‡æ¡£](docs/deployment/deployment-guide.md)

## å¼€å‘æŒ‡å—

è¯¦ç»†çš„å¼€å‘ç¯å¢ƒæ­å»ºå’Œç¼–ç è§„èŒƒè¯·å‚è€ƒ [å¼€å‘æ–‡æ¡£](docs/development/setup.md)

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: add some feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚
